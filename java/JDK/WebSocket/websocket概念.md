> WebSocket是通过单个TCP连接提供全双工（双向通信）通信信道的计算机通信协议。此WebSocket API可在用户的浏览器和服务器之间进行双向通信。用户可以向服务器发送消息并接收事件驱动的响应，而无需轮询服务器。 它可以让多个用户连接到同一个实时服务器，并通过API进行通信并立即获得响应。

![image](https://hiphotos.baidu.com/feed/pic/item/3b87e950352ac65cedcb0536f6f2b21192138aad.jpg)



### 1.WebSocket:

websocket通讯的建立阶段是依赖于http协议的。最初的握手阶段是http协议，握手完成后就切换到websocket协议，并完全与http协议脱离了。

建立通讯时，也是由客户端主动发起连接请求，服务端被动监听。

通讯一旦建立连接后，通讯就是“全双工”模式了。也就是说服务端和客户端都能在任何时间自由得发送数据，非常适合服务端要主动推送实时数据的业务场景。

交互模式不再是“请求-应答”模式，完全由开发者自行设计通讯协议。

通信的数据是基于“帧(frame)”的，可以传输文本数据，也可以直接传输二进制数据，效率高。当然，开发者也就要考虑封包、拆包、编号等技术细节。

### 2.Socket:

服务端监听通讯，被动提供服务；客户端主动向服务端发起连接请求，建立起通讯。

每一次交互都是：客户端主动发起请求（request），服务端被动应答（response）。

服务端不能主动向客户端推送数据。

通信的数据是基于文本格式的。二进制数据（比如图片等）要利用base64等手段转换为文本后才能传输。